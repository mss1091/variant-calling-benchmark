// Sarek Nextflow configuration
process {
    withLabel: 'high_memory' {
        memory = '16.GB'
    }
    withLabel: 'high_cpu' {
        cpus = 8
    }
    withName: 'DEEPVARIANT_RUNDEEPVARIANT' {
        memory = '14.GB'
        cpus = 1
        errorStrategy = 'retry'
        maxRetries = 3
    }
    withName: '.*DEEPVARIANT.*' {
        memory = '14.GB'
        cpus = 1
    }
}

params {
    // Input
    input = '/home/mssever/Desktop/blg348e/project/scripts/phase1/sarek/samplesheet_haplotype_caller.csv'
    
    // Reference genome
    genome = 'GATK.GRCh38'
    fasta = '/home/mssever/Desktop/blg348e/project/data/reference/Homo_sapiens_assembly38.fasta'
    
    // Variant calling
    tools = 'haplotypecaller'
    variant_calling = true
    
    // Output
    outdir = '/home/mssever/Desktop/blg348e/project/outputs/phase1/sarek/haplotype_caller'
    
    // Skip steps we don't need (since we have BAM already)
    skip_tools = 'fastqc,samtools,mosdepth'
    
    // Resource limits
    max_cpus = 8
    max_memory = '16.GB'
}
